<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Grid Pathfinding (A*, Dijkstra, Greedy, Weighted A*, BFS)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Grid Pathfinding (A*, Dijkstra, Greedy, Weighted A*, BFS)</h1>

  <div class="toolbar" role="group" aria-label="Controls">
    <fieldset class="group" style="border:0; margin:0; padding:0;">
      <legend>Tool:</legend>
      <label><input type="radio" name="tool" value="wall" checked> Draw walls</label>
      <label><input type="radio" name="tool" value="erase"> Erase</label>
      <label><input type="radio" name="tool" value="start"> Set Start</label>
      <label><input type="radio" name="tool" value="goal"> Set Goal</label>
    </fieldset>

    <div class="group" title="Fill the grid with random walls by density">
      <label>Random walls:
        <input id="density" type="range" min="0" max="0.6" step="0.02" value="0.28">
        <span id="densityVal">0.28</span>
      </label>
      <button id="randomizeBtn">Randomize</button>
      <button id="clearWallsBtn">Clear walls</button>
    </div>

    <div class="spacer"></div>

    <div class="group">
      <label>Algorithm:
        <select id="algo">
          <option value="astar">A*</option>
          <option value="wastar">Weighted A*</option>
          <option value="dijkstra">Dijkstra</option>
          <option value="greedy">Greedy Best-First</option>
          <option value="bfs">BFS (unit weights)</option>
          <option value="dstar">D* Lite</option>
          <option value="lpa">LPA*</option>
        </select>
      </label>
      <label id="wWrap" class="group">
        w=
        <input id="weight" type="range" min="1" max="5" step="0.1" value="1.5">
        <span id="weightVal">1.5</span>
      </label>
      <label title="Allow diagonal movement">
        <input type="checkbox" id="diag"> Diagonals
      </label>
      <button id="stepBtn">Step</button>
      <button id="autoBtn">Run/Auto-play</button>
      <button id="pauseBtn">Pause</button>
      <button id="resumeBtn">Resume</button>
      <label title="Speed">
        Speed:
        <input id="speedSlider" type="range" min="50" max="1000" step="10" value="300">
        <span id="speedVal">300ms</span>
      </label>
      <button id="runBtn">Run</button>
      <button id="clearPathBtn">Clear path</button>
  </div>

  <div id="status" role="status" aria-live="polite"></div>
  <div class="canvas-wrap">
    <canvas id="grid"></canvas>
  </div>
  <p class="hint">
    • Click to draw walls (or choose Erase). Use Set Start/Goal to place points.<br>
    • Choose an algorithm, optionally enable Diagonals. Weighted A* uses f = g + w·h.<br>
    • Open set (green) and closed set (red) are from the last run. Path is blue.<br>
    • BFS uses unit edge costs (diagonals count as 1 if enabled).
  </p>
  <script type="module" src="main.js"></script>
</body>
</html>